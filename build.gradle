plugins {
    id 'java-library'
}

repositories {
    mavenCentral()
    maven {
        url 'https://files.basex.org/maven/'
    }
}

dependencies {
    testImplementation 'org.nineml:coffeefilter:3.2.0'
    testImplementation 'org.nineml:coffeegrinder:3.2.0'
    testImplementation 'org.basex:basex:10.8-SNAPSHOT'
}

testing {	
    suites {
        test {
            useJUnitJupiter('5.9.3')
        }
    }
}

test {
    maxHeapSize = "2048m"
}

tasks.withType(JavaCompile) {
    options.fork = true
    options.forkOptions.jvmArgs += ['-Xss4m']
}

jar {
    manifest {
        attributes(
            'Main-Class': 'de.bottlecaps.markup.Blitz'
        )
    }
}